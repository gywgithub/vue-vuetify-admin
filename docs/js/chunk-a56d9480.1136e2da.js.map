{"version":3,"sources":["webpack:///./src/views/Users.vue?124c","webpack:///./src/assets/img/avatar.png","webpack:///./src/views/Users.vue?af2d","webpack:///./src/views/Users.vue?da9a","webpack:///./src/views/Users.vue?9550","webpack:///./src/views/Users.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","selectItems","model","value","callback","$$v","filterKey","expression","on","$event","type","indexOf","_k","keyCode","key","enter","filterValue","addUser","_v","directives","name","rawName","_s","pageSum","pageIndex","pageNum","countStart","countEnd","total","lastPageDisabled","lastPage","nextPageDisabled","nextPage","users","length","scopedSlots","_u","fn","_l","val","user_id","username","avatar","publicPath","nickname","email","created_at","editUser","deconsteClick","proxy","dialog","deconsteUser","dialogUser","closeDialogUser","dialogUserTitle","ref","hover","userInfo","changeFile","fileChange","valid","$set","nameError","nameErrorsMsg","nameRules","checkUsername","showPassword","passwordRules","nicknameRules","emailRules","emailError","emailErrorsMsg","checkEmail","_e","btnDisabled","btnLoading","submit","staticRenderFns","file","oldInfo","v","test","console","info","getUsers","axios","url","method","then","res","data","status","$refs","form","validate","formValidate","JSON","parse","stringify","uploadFile","store","dispatch","showAlert","alertMessage","alertType","user_info","error","fileName","split","filename","upload_method","result","formData","FormData","append","fetch","body","catch","err","file_address","reset","fileInput","files","fs","reader","FileReader","self","readAsDataURL","onload","e","dataBase64","click","filter","get","params","page_sum","page_index","setTimeout","formReset","item","userId","component"],"mappings":"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","file":"js/chunk-a56d9480.1136e2da.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=d3911908&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=d3911908&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/avatar.58016327.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"px-2 mb-2\"},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"space-between\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"xs\":\"12\",\"sm\":\"12\",\"md\":\"6\",\"order-sm\":\"2\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{staticClass:\"height-40\",attrs:{\"items\":_vm.selectItems,\"label\":\"Filter\",\"solo\":\"\",\"dense\":\"\",\"clearable\":\"\"},model:{value:(_vm.filterKey),callback:function ($$v) {_vm.filterKey=$$v},expression:\"filterKey\"}})],1),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-text-field',{staticClass:\"height-40 ml-4\",attrs:{\"label\":\"Search\",\"solo\":\"\",\"dense\":\"\",\"append-icon\":\"mdi-magnify\",\"clearable\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.enter($event)}},model:{value:(_vm.filterValue),callback:function ($$v) {_vm.filterValue=$$v},expression:\"filterValue\"}})],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\",\"xs\":\"6\",\"sm\":\"6\",\"md\":\"2\",\"order-sm\":\"2\",\"order-md\":\"1\"}},[_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.addUser}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-account-plus-outline\")]),_vm._v(\"Add User \")],1)],1),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"8\",\"xs\":\"6\",\"sm\":\"6\",\"md\":\"3\",\"order-sm\":\"3\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}]},[_vm._v(\"page_sum: \"+_vm._s(_vm.pageSum)+\" , page_index: \"+_vm._s(_vm.pageIndex)+\" , page_num: \"+_vm._s(_vm.pageNum)+\" ,\")]),_vm._v(\" \"),_c('span',{staticClass:\"body-2\"},[_vm._v(_vm._s(_vm.countStart)+\" - \"+_vm._s(_vm.countEnd)+\", total: \"+_vm._s(_vm.total))]),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.lastPageDisabled},on:{\"click\":_vm.lastPage}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.nextPageDisabled},on:{\"click\":_vm.nextPage}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)],1)],1)],1),(_vm.users.length > 0)?_c('div',[_c('v-card',[_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',[_vm._v(\"user_id\")]),_c('th',[_vm._v(\"username\")]),_c('th',[_vm._v(\"avatar\")]),_c('th',[_vm._v(\"nickname\")]),_c('th',[_vm._v(\"email\")]),_c('th',[_vm._v(\"created_at\")]),_c('th',[_vm._v(\"options\")])])]),_c('tbody',_vm._l((_vm.users),function(val,key){return _c('tr',{key:key},[_c('td',{staticClass:\"text-align-left\"},[_vm._v(_vm._s(val.user_id))]),_c('td',{staticClass:\"text-align-left\"},[_vm._v(_vm._s(val.username))]),_c('td',{staticClass:\"text-center\"},[(val.avatar && val.avatar.indexOf('http://') !== -1)?_c('v-avatar',{attrs:{\"size\":\"36\"}},[_c('img',{attrs:{\"src\":val.avatar,\"alt\":\"avatar\"}})]):(val.avatar)?_c('v-avatar',{attrs:{\"size\":\"36\"}},[_c('img',{attrs:{\"src\":\"\" + _vm.publicPath + val.avatar,\"alt\":\"avatar\"}})]):_c('v-avatar',{attrs:{\"size\":\"36\"}},[_c('img',{attrs:{\"src\":require(\"../assets/img/avatar.png\"),\"alt\":\"avatar\"}})])],1),_c('td',{staticClass:\"text-align-left\"},[_vm._v(_vm._s(val.nickname))]),_c('td',{staticClass:\"text-align-left\"},[_vm._v(_vm._s(val.email))]),_c('td',{staticClass:\"text-align-left\"},[_vm._v(_vm._s(val.created_at))]),_c('td',{staticClass:\"text-align-left\"},[_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.editUser(val)}}},[_c('v-icon',[_vm._v(\"mdi-pencil-outline\")])],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.deconsteClick(val)}}},[_c('v-icon',[_vm._v(\"mdi-trash-can-outline\")])],1)],1)])}),0)]},proxy:true}],null,false,3013789036)})],1)],1):_c('div',{staticClass:\"nothing\"},[_c('div',{staticClass:\"ma-5\"},[_c('v-icon',{attrs:{\"color\":\"#dbdbdb\",\"size\":\"100\"}},[_vm._v(\"mdi-account-outline\")])],1),_vm._v(\"No user data, you can create a user. \")]),_c('v-dialog',{attrs:{\"max-width\":\"450\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Tips\")]),_c('v-card-text',{staticClass:\"subtitle-1 text-align-left\"},[_vm._v(\"Are you sure you want to deconste the user?\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"cancel\")]),_c('v-btn',{attrs:{\"color\":\"red\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deconsteUser()}}},[_vm._v(\"sure\")])],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"500px\",\"persistent\":\"\",\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.dialogUser),callback:function ($$v) {_vm.dialogUser=$$v},expression:\"dialogUser\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"secondary\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":_vm.closeDialogUser}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-toolbar-title',[_vm._v(_vm._s(_vm.dialogUserTitle))]),_c('v-spacer')],1),_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md4\":\"\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-card',{staticClass:\"mx-auto img-card text-center cursor-pointer\",attrs:{\"elevation\":hover ? 6 : 2}},[(_vm.userInfo.avatar)?_c('img',{staticClass:\"img-size avatar\",attrs:{\"src\":_vm.userInfo.avatar,\"alt\":\"avatar\"},on:{\"click\":function($event){return _vm.changeFile()}}}):_c('img',{staticClass:\"img-size avatar\",attrs:{\"src\":require(\"../assets/img/avatar.png\"),\"alt\":\"avatar\"},on:{\"click\":function($event){return _vm.changeFile()}}})])]}}])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}]},[_c('input',{ref:\"fileInput\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.fileChange()}}})]),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userInfo.user_id),expression:\"userInfo.user_id\"}],attrs:{\"label\":\"编号\",\"disabled\":\"\"},model:{value:(_vm.userInfo.user_id),callback:function ($$v) {_vm.$set(_vm.userInfo, \"user_id\", $$v)},expression:\"userInfo.user_id\"}}),_c('v-text-field',{attrs:{\"counter\":\"25\",\"label\":\"用户名*\",\"required\":\"\",\"maxlength\":\"25\",\"error\":_vm.nameError,\"messages\":_vm.nameErrorsMsg,\"rules\":_vm.nameRules,\"disabled\":_vm.dialogUserTitle === 'Edit User'},on:{\"blur\":function($event){return _vm.checkUsername(_vm.userInfo.username)}},model:{value:(_vm.userInfo.username),callback:function ($$v) {_vm.$set(_vm.userInfo, \"username\", $$v)},expression:\"userInfo.username\"}}),_c('v-text-field',{attrs:{\"type\":_vm.showPassword ? 'text' : 'password',\"label\":\"密码*\",\"rules\":_vm.passwordRules,\"counter\":\"\",\"maxlength\":\"25\",\"required\":\"\",\"append-icon\":_vm.showPassword ? 'mdi-eye': 'mdi-eye-off'},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.userInfo.password),callback:function ($$v) {_vm.$set(_vm.userInfo, \"password\", $$v)},expression:\"userInfo.password\"}}),_c('v-text-field',{attrs:{\"counter\":\"25\",\"label\":\"姓名*\",\"required\":\"\",\"maxlength\":\"50\",\"rules\":_vm.nicknameRules},model:{value:(_vm.userInfo.nickname),callback:function ($$v) {_vm.$set(_vm.userInfo, \"nickname\", $$v)},expression:\"userInfo.nickname\"}}),_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"邮箱*\",\"counter\":\"50\",\"maxlength\":\"50\",\"required\":\"\",\"error\":_vm.emailError,\"messages\":_vm.emailErrorsMsg},on:{\"blur\":function($event){return _vm.checkEmail(_vm.userInfo.email)}},model:{value:(_vm.userInfo.email),callback:function ($$v) {_vm.$set(_vm.userInfo, \"email\", $$v)},expression:\"userInfo.email\"}}),(_vm.userInfo.created_at)?_c('v-text-field',{attrs:{\"label\":\"created_at\",\"disabled\":\"\"},model:{value:(_vm.userInfo.created_at),callback:function ($$v) {_vm.$set(_vm.userInfo, \"created_at\", $$v)},expression:\"userInfo.created_at\"}}):_vm._e(),_c('v-btn',{staticClass:\"btn-submit\",attrs:{\"color\":\"primary\",\"disabled\":_vm.btnDisabled,\"loading\":_vm.btnLoading},on:{\"click\":_vm.submit}},[_vm._v(\"submit\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport store from '@/store'\n\n@Component({})\nexport default class Users extends Vue {\n  private publicPath: string = process.env.BASE_URL\n  private selectItems: any[] = [\n    'user_id',\n    'username',\n    'nickname',\n    'email',\n    'created_at'\n  ]\n  private filterKey: string = ''\n  private filterValue: string = ''\n  private pageNum: number = 20\n  private pageSum: number = 0\n  private pageIndex: number = 1\n  private countStart: number = 0\n  private countEnd: number = 0\n  private total: number = 0\n  private lastPageDisabled: boolean = true\n  private nextPageDisabled: boolean = true\n\n  private users: any[] = []\n  private dialogUser: boolean = false\n  private dialogUserTitle: string = 'Add User'\n  private dialog: boolean = false\n  private userInfo: any = {}\n  private file: any = null\n  private nameError: boolean = false\n  private nameErrorsMsg: string = ''\n  private emailError: boolean = false\n  private emailErrorsMsg: string = ''\n  private oldInfo: any = {}\n  private showPassword: boolean = false\n  private emailRules: any = [\n    (v: any) => !!v || 'Email is required',\n    (v: any) => /.+@.+\\..+/.test(v) || 'Email format is invalid'\n  ]\n  private valid: boolean = false\n  private nameRules: any = [(v: any) => !!v || 'Username is required']\n  private nicknameRules: any = [(v: any) => !!v || 'Nickname is required']\n  private passwordRules: any = [\n    (v: any) => !!v || 'Password is required',\n    (v: any) => (v && v.length >= 8) || 'Min 8 characters',\n    (v: any) =>\n      /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/.test(v) ||\n      'The password must contain at least one letter and one number'\n  ]\n  private btnDisabled: boolean = false\n  private btnLoading: boolean = false\n\n  private created() {\n    if (this.publicPath === '/') {\n      this.publicPath = ''\n    } else {\n      this.publicPath = '/vue-vuetify-admin'\n    }\n  }\n\n  private mounted() {\n    console.info('mounted')\n    console.info(this.publicPath)\n    this.getUsers()\n  }\n\n  private checkUsername(name: string) {\n    if (name) {\n      this.axios({\n        url: '/api/v1/get/username/' + name,\n        method: 'GET'\n      }).then((res: any) => {\n        if (res.data.status) {\n          this.nameError = false\n          this.nameErrorsMsg = ''\n        } else {\n          this.nameError = true\n          this.nameErrorsMsg = 'Username already exists'\n        }\n      })\n    }\n  }\n  private checkEmail(email: string) {\n    if (email !== '' && email !== this.oldInfo.email) {\n      this.axios({\n        url: '/api/v1/get/email/' + email,\n        method: 'GET'\n      }).then((res: any) => {\n        if (res.data.status) {\n          this.emailError = false\n          this.emailErrorsMsg = ''\n        } else {\n          this.emailError = true\n          this.emailErrorsMsg = 'Email already exists'\n        }\n      })\n    }\n  }\n\n  private formValidate() {\n    if ((this.$refs.form as Vue & { validate: () => boolean }).validate()) {\n      return true\n    } else {\n      return false\n    }\n  }\n  private async submit() {\n    if (this.formValidate() && !this.nameError && !this.emailError) {\n      this.btnDisabled = true\n      this.btnLoading = true\n      const info = JSON.parse(JSON.stringify(this.userInfo))\n      console.info('this.userInfo: ', this.userInfo)\n      if (this.file) {\n        const res = await this.uploadFile()\n        if (res) {\n          info.avatar = res\n        }\n      } else {\n        info.avatar = '/img/avatar.png'\n      }\n      console.info('info submit: ', info)\n      if (this.dialogUserTitle === 'Add User') {\n        // add user\n        this.axios({\n          url: '/api/v1/users',\n          method: 'POST',\n          data: info\n        }).then((res: any) => {\n          if (res.data.status) {\n            console.info('success')\n            this.btnDisabled = false\n            this.btnLoading = false\n            this.dialogUser = false\n            store.dispatch('updateShowAlert', {\n              showAlert: true,\n              alertMessage: 'add user success',\n              alertType: 'success'\n            })\n            this.getUsers()\n          } else {\n            store.dispatch('updateShowAlert', {\n              showAlert: true,\n              alertMessage: 'add user error',\n              alertType: 'error'\n            })\n          }\n        })\n      } else {\n        // edit user\n        this.axios({\n          url: '/api/v1/users',\n          method: 'PUT',\n          data: {\n            user_id: this.userInfo.user_id,\n            user_info: info\n          }\n        }).then((res: any) => {\n          if (res.data.status) {\n            this.btnDisabled = false\n            this.btnLoading = false\n            this.dialogUser = false\n            store.dispatch('updateShowAlert', {\n              showAlert: true,\n              alertMessage: 'add user success',\n              alertType: 'success'\n            })\n            this.getUsers()\n          } else {\n            console.info('error')\n            store.dispatch('updateShowAlert', {\n              showAlert: true,\n              alertMessage: 'edit user error',\n              alertType: 'error'\n            })\n          }\n        })\n      }\n    } else {\n      console.error('validate false') // tslint:disable-line\n    }\n  }\n\n  private async uploadFile() {\n    // get upload url\n    const fileName = this.file.name\n    const ficonstype = this.file.type.split('/')[1]\n    const result: any = await this.axios({\n      url: '/api/v1/get_upload_url',\n      data: {\n        filename: fileName,\n        upload_method: 'post'\n      },\n      method: 'get'\n    }).then((res: any) => {\n      return res\n    })\n\n    // post upload file\n    const formData = new FormData()\n    formData.append('file', this.file)\n    console.info(result.data.data.url)\n    await fetch(result.data.data.url, {\n      method: 'POST',\n      body: formData\n    })\n      .then((res: any) => {\n        return res\n      })\n      .catch((err: any) => {\n        // console.error('err: ', err)\n        return err\n      })\n\n    return result.data.data.file_address\n  }\n\n  private formReset() {\n    (this.$refs.form as Vue & { reset(): () => void }).reset()\n  }\n\n  private fileChange() {\n    if ((this.$refs.fileInput as Vue & { files: () => any }).files.length > 0) {\n      const fs: any = (this.$refs.fileInput as Vue & { files: () => any }).files\n      this.file = fs[0]\n      const reader = new FileReader()\n      const self = this\n      reader.readAsDataURL(this.file)\n      reader.onload = (e: any) => {\n        const dataBase64: any = reader.result\n        self.userInfo.avatar = dataBase64\n      }\n    }\n  }\n\n  private changeFile() {\n    (this.$refs.fileInput as Vue & { click: () => void }).click()\n  }\n\n  private getUsers() {\n    const filter: object = {\n      pageIndex: this.pageIndex,\n      pageNum: this.pageNum,\n      filterKey: this.filterKey,\n      filterValue: this.filterValue\n    }\n    this.axios\n      .get('/api/v1/users', {\n        params: filter\n      })\n      .then((res: any) => {\n        console.info(res.data)\n        if (res && res.data.status && res.data.data.users.length > 0) {\n          const data: any = res.data.data\n          this.users = data.users\n          this.pageSum = data.page_sum\n          this.pageIndex = data.page_index\n          this.total = data.total\n\n          if (this.pageIndex === data.page_sum) {\n            this.nextPageDisabled = true\n          } else {\n            if (data.page_sum > 1) {\n              this.nextPageDisabled = false\n            }\n          }\n\n          if (this.pageIndex === 1) {\n            this.countStart = 1\n            this.countEnd = 0 + this.users.length\n          } else {\n            this.countStart = (this.pageIndex - 1) * this.pageNum + 1\n            this.countEnd = this.countStart + this.users.length - 1\n          }\n        } else {\n          this.users = []\n          this.pageSum = 0\n          this.pageIndex = 0\n          this.total = 0\n        }\n      })\n  }\n\n  private addUser() {\n    this.dialogUserTitle = 'Add User'\n    this.dialogUser = true\n    this.userInfo = {}\n    setTimeout(() => {\n      this.formReset()\n    }, 50)\n  }\n\n  private enter() {\n    this.pageIndex = 1\n    this.getUsers()\n  }\n\n  private lastPage() {\n    console.info('lastPage')\n    this.pageIndex--\n    if (this.pageIndex === 1) {\n      this.lastPageDisabled = true\n    }\n    this.getUsers()\n  }\n\n  private nextPage() {\n    console.info('nextPage')\n    this.pageIndex++\n    if (this.pageIndex === this.pageSum) {\n      this.nextPageDisabled = true\n    }\n    this.lastPageDisabled = false\n    this.getUsers()\n  }\n\n  private closeDialogUser() {\n    console.info('closeDialogUser')\n    this.dialogUser = false\n  }\n\n  private deconsteClick(item: object) {\n    this.dialog = true\n    this.userInfo = item\n    console.info(item)\n  }\n\n  private deconsteUser() {\n    console.info('deconsteUser')\n    const userId: number = this.userInfo.user_id\n    this.axios({\n      url: '/api/v1/users/' + userId,\n      method: 'DELETE'\n    }).then((res: any) => {\n      if (res.status) {\n        console.info('deconste user success, id: ' + userId)\n        this.dialog = false\n        this.getUsers()\n      } else {\n        // console.error('deconste user error') // tslint:disable-line\n      }\n    })\n  }\n\n  private editUser(val: any) {\n    console.info('eidtUser')\n    console.info(val)\n    console.info('i')\n    this.userInfo = val\n    this.dialogUserTitle = 'Edit User'\n    this.dialogUser = true\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=d3911908&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=ts&\"\nexport * from \"./Users.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=d3911908&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3911908\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}