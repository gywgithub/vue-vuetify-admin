(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ddc03560"],{"2fa0":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"map",staticStyle:{height:"calc(100vh - 90px)"},attrs:{id:"map"}})])}],s=(i("2397"),i("d4ec")),o=i("bee2"),r=i("262e"),h=i("99de"),c=i("7e84"),l=i("9ab4"),d=i("60a3"),u=i("0613"),m=i("e11eb"),f=i.n(m);i("6cc5"),i("95ab");function _(t){var a=p();return function(){var i,e=Object(c["a"])(t);if(a){var n=Object(c["a"])(this).constructor;i=Reflect.construct(e,arguments,n)}else i=e.apply(this,arguments);return Object(h["a"])(this,i)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var g=function(t){Object(r["a"])(i,t);var a=_(i);function i(){return Object(s["a"])(this,i),a.apply(this,arguments)}return Object(o["a"])(i,[{key:"mounted",value:function(){var t=f.a.map("map",{center:[37.3165735,141.0223689],zoom:14});t.doubleClickZoom.disable(),f.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:""}).addTo(t),f.a.marker([37.3165735,141.0223689]).addTo(t);var a=[],i=a.map((function(t){return[t[0],t[1]]})),e=f.a.heatLayer(i).addTo(t),n=!0;t.on({movestart:function(){n=!1},moveend:function(){n=!0},mousemove:function(t){n&&e.addLatLng(t.latlng)},dblclick:function(t){console.log("click: ",t),n=!n,n?(console.log("绘制开始"),u["a"].dispatch("updateShowAlert",{showAlert:!0,alertMessage:"绘制开始",alertType:"success"})):(console.log("绘制结束"),u["a"].dispatch("updateShowAlert",{showAlert:!0,alertMessage:"绘制结束",alertType:"warning"}))}})}}]),i}(d["b"]);g=Object(l["a"])([Object(d["a"])({})],g);var v=g,y=v,w=(i("8a47"),i("2877")),L=Object(w["a"])(y,e,n,!1,null,"f08eca98",null);a["default"]=L.exports},"36bd":function(t,a,i){"use strict";var e=i("4bf8"),n=i("77f1"),s=i("9def");t.exports=function(t){var a=e(this),i=s(a.length),o=arguments.length,r=n(o>1?arguments[1]:void 0,i),h=o>2?arguments[2]:void 0,c=void 0===h?i:n(h,i);while(c>r)a[r++]=t;return a}},"6c7b":function(t,a,i){var e=i("5ca1");e(e.P,"Array",{fill:i("36bd")}),i("9c6c")("fill")},"8a47":function(t,a,i){"use strict";i("8a9c")},"8a9c":function(t,a,i){},"95ab":function(t,a,i){"use strict";i("6c7b");!function(){function t(a){return this instanceof t?(this._canvas=a="string"==typeof a?document.getElementById(a):a,this._ctx=a.getContext("2d"),this._width=a.width,this._height=a.height,this._max=1,void this.clear()):new t(a)}t.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t,a){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,a){a=a||15;var i=this._circle=document.createElement("canvas"),e=i.getContext("2d"),n=this._r=t+a;return i.width=i.height=2*n,e.shadowOffsetX=e.shadowOffsetY=200,e.shadowBlur=a,e.shadowColor="black",e.beginPath(),e.arc(n-200,n-200,t,0,2*Math.PI,!0),e.closePath(),e.fill(),this},gradient:function(t){var a=document.createElement("canvas"),i=a.getContext("2d"),e=i.createLinearGradient(0,0,0,256);for(var n in a.width=1,a.height=256,t)e.addColorStop(n,t[n]);return i.fillStyle=e,i.fillRect(0,0,1,256),this._grad=i.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var a=this._ctx;a.clearRect(0,0,this._width,this._height);for(var i,e=0,n=this._data.length;n>e;e++)i=this._data[e],a.globalAlpha=Math.max(i[2]/this._max,t||.05),a.drawImage(this._circle,i[0]-this._r,i[1]-this._r);var s=a.getImageData(0,0,this._width,this._height);return this._colorize(s.data,this._grad),a.putImageData(s,0,0),this},_colorize:function(t,a){for(var i,e=3,n=t.length;n>e;e+=4)i=4*t[e],i&&(t[e-3]=a[i],t[e-2]=a[i+1],t[e-1]=a[i+2])}},window.simpleheat=t}(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,a){this._latlngs=t,L.setOptions(this,a)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off("moveend",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),a=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[a]="50% 50%";var i=this._map.getSize();t.width=i.x,t.height=i.y;var e=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(e?"animated":"hide")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var a=this._map.getSize();this._heat._width!==a.x&&(this._canvas.width=this._heat._width=a.x),this._heat._height!==a.y&&(this._canvas.height=this._heat._height=a.y),this._redraw()},_redraw:function(){var t,a,i,e,n,s,o,r,h,c=[],l=this._heat._r,d=this._map.getSize(),u=new L.Bounds(L.point([-l,-l]),d.add([l,l])),m=void 0===this.options.max?1:this.options.max,f=void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom,_=1/Math.pow(2,Math.max(0,Math.min(f-this._map.getZoom(),12))),p=l/2,g=[],v=this._map._getMapPanePos(),y=v.x%p,w=v.y%p;for(t=0,a=this._latlngs.length;a>t;t++)if(i=this._map.latLngToContainerPoint(this._latlngs[t]),u.contains(i)){n=Math.floor((i.x-y)/p)+2,s=Math.floor((i.y-w)/p)+2;var b=void 0!==this._latlngs[t].alt?this._latlngs[t].alt:void 0!==this._latlngs[t][2]?+this._latlngs[t][2]:1;h=b*_,g[s]=g[s]||[],e=g[s][n],e?(e[0]=(e[0]*e[2]+i.x*h)/(e[2]+h),e[1]=(e[1]*e[2]+i.y*h)/(e[2]+h),e[2]+=h):g[s][n]=[i.x,i.y,h]}for(t=0,a=g.length;a>t;t++)if(g[t])for(o=0,r=g[t].length;r>o;o++)e=g[t][o],e&&c.push([Math.round(e[0]),Math.round(e[1]),Math.min(e[2],m)]);this._heat.data(c).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(t){var a=this._map.getZoomScale(t.zoom),i=this._map._getCenterOffset(t.center)._multiplyBy(-a).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,i,a):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(i)+" scale("+a+")"}}),L.heatLayer=function(t,a){return new L.HeatLayer(t,a)}}}]);
//# sourceMappingURL=chunk-ddc03560.4c43ca6d.js.map